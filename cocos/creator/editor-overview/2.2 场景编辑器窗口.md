# 2.2 场景编辑器窗口

场景编辑器是 Cocos Creator实现可视化编程的核心 ， 展示当前打开场景中所有的 节点，节点概念请参照第 3章。在这个工作区域里 ， 用户可以选中并通过变换工具来修改节点的位置、旋转、缩放、尺寸等属性 ， 并获得所见即所得的场景效果预览 ， 如图所示。

![scene-panel](https://gitee.com/nlpleaf/PicGo/raw/master/b3e08a1e571eff968c1fb0a8c9d8902a)

## 2.2.1 视图介绍

### 坐标系和网格

​	场景视图的背景会显示一组标尺和网格，表示 **世界坐标系** 中各个点的位置信息。读数为 `(0,0)` 的点为场景中世界坐标系的原点。使用鼠标滚轮缩小视图显示时，每一个刻度代表 `100` 像素的距离。根据当前视图缩放尺度的不同，会在不同刻度上显示代表该点到原点距离的数字，单位都是像素。

​	场景中的标尺和网格是我们摆放场景元素时位置的重要参考信息，关于坐标系和位置等节点属性的关系，请阅读 [坐标系和变换](https://docs.cocos.com/creator/manual/zh/content-workflow/transform.html) 一节。



### 设计分辨率指示框

​	视图中的紫色线框表示场景中默认会显示的内容区域，这块区域的大小由 **设计分辨率** 决定。关于设计分辨率的设置和效果请阅读 [Canvas组件参考](https://docs.cocos.com/creator/manual/zh/components/canvas.html) 一节。



### 选取节点

​	鼠标悬浮到场景中的节点上时，节点的约束框将会以灰色单线显示出来。此时单击鼠标，就会选中该节点，选中的节点周围将会有蓝色的线框提示节点的约束框。选择节点是使用变换工具设置节点位置、旋转、缩放等操作的前提。

如果要在 **场景编辑器** 中快速聚焦节点，有以下两种方式：

- 在 **层级管理器** 中双击节点。

- 在 **层级管理器** 中选中节点，然后按下 **F** 快捷键。

  

### 节点的约束框

​	节点在鼠标悬浮或选中状态下都能够看到约束框（灰色或蓝色的线框），<u>约束框的矩形区域表示节点的尺寸（**size**）属性大小</u>。即使节点没有包含图像渲染组件（如 **Sprite**），也可以为节点设置 `size` 属性，而<u>节点约束框以内的透明区域都可以被鼠标悬浮和点击选中</u>。

![bounding box](https://gitee.com/nlpleaf/PicGo/raw/master/f4b180d577af338aae37537993ed52ca)

​	节点的尺寸（`size`）属性在多分辨率适配和排版策略中有非常重要的作用，关于节点尺寸使用的更多信息请阅读 [多分辨率适配和元素对齐](https://docs.cocos.com/creator/manual/zh/ui/multi-resolution.html) 的相关内容。



### 节点名称提示

​	鼠标悬浮在节点上时，与节点的约束框同时显示的还有节点的名称，在节点比较密集时可以先根据悬浮提示确定要选择的目标，然后点击确认您的选择。

​	关于节点的命名，请阅读 [层级管理器](https://docs.cocos.com/creator/manual/zh/getting-started/basics/editor-panels/node-tree.html) 的介绍内容。



### 多选节点

​	在 **场景编辑器** 中按住鼠标左键并拖拽，可以画出一个蓝色覆盖的选取框，和选取框有部分重合的节点，在放开鼠标按键后都会被一起选中。在放开鼠标键之前可以任意滑动鼠标来更改选取框的区域。

​	选中多个节点后，进行的任何变换操作都会同时作用于所有选中的节点。



## 2.2.2 视图常用操作

​	为了使可视化编程更方便，在使用场景编辑器视图窗口时，通常会放大查看并修改 细节、缩小查看整体效果或点选某一节点进行单独属性查看或修改，常用操作方式如下。

* **视图缩放**：使用鼠标滚轮（Mac下是往上/下滑动）
* **视图平移**：鼠标右键拖曳（Mac下是双指按住拖动）
* **选取节点**:鼠标左键单击。选中后会显示蓝色节点约束框(见图 2-6) ，受节点的尺寸属性影响。
* **节点名称与约束框提示**:鼠标光标悬停在节点上时(非选中状态)，出现灰色节点 名称和约束框。如图2-7所示。



## 2.2.3 使用节点变换工具

​	节点变换工具位于编辑器左上角，不可移动。 4个按钮从左至右依次是:平移、旋转、缩放和自由变换。默认选中平移工具。

### 	移动变换工具

​      **移动变换工具** 是打开编辑器时默认处于激活状态的变换工具，之后这个工具也可以通过点击位于主窗口左上角工具栏第一个按钮来激活，或者在使用场景编辑器时按下快捷键 W，即可激活 **移动变换工具**。

![move button](https://gitee.com/nlpleaf/PicGo/raw/master/7290662ef059ebdda22d83ed8f392885)

​	选中任何节点，就能看到节点中心（或锚点所在位置）上出现了由红绿两个箭头和蓝色方块组成的移动控制手柄（gizmo）。

​	**控制手柄** 是指场景编辑器中在特定编辑状态下显示出的可用鼠标进行交互操作的控制器。这些控制器只用来辅助编辑，不会在游戏运行时显示。

![move gizmo](https://gitee.com/nlpleaf/PicGo/raw/master/c44047272dac627e39d08b57d878f6ad)

移动变换工具激活时：

- 按住红色箭头拖拽鼠标，将在 x 轴方向上移动节点；
- 按住绿色箭头拖拽鼠标，将在 y 轴方向移动节点；
- 按住蓝色方块拖拽鼠标，可以同时在两个轴向自由移动节点



### 旋转变换工具

点击主窗口左上角工具栏第二个按钮，或在使用场景编辑器时按下 E 快捷键，即可激活 **旋转变换工具**。

![rotate](https://gitee.com/nlpleaf/PicGo/raw/master/128497389f5aae6f7b71999c8b2b1e5a)

旋转变换工具的手柄主要是一个箭头和一个圆环组成，箭头所指的方向表示当前节点旋转属性（`rotation`）的角度（**规定逆时针为正， 顺时针为负**）。拖拽箭头或圆环内任意一点就可以旋转节点，放开鼠标之前，可以在控制手柄上看到当前旋转属性的角度值。

![rotate](https://gitee.com/nlpleaf/PicGo/raw/master/34a4e7337971703a760b005c09067e5f)



### 缩放变换工具

点击主窗口左上角工具栏第三个按钮，或在使用场景编辑器时按下 R 快捷键，即可激活 **缩放变换工具**。

![scale](https://gitee.com/nlpleaf/PicGo/raw/master/21a6a0f3a0711e1d7c4d48e28ddb0b36)

- 按住红色方块拖拽鼠标，在 x 轴方向上缩放节点图像；
- 按住绿色方块拖拽鼠标，在 y 轴方向上缩放节点图像；
- 按住中间的黄色方块，保持宽高比的前提下整体缩放节点图像。

缩放节点时，会同比缩放所有的子节点。

![scale](https://gitee.com/nlpleaf/PicGo/raw/master/b430a51fde12df50f4d54296447524af)



* 



​	自由变换手柄是功能最多也是最复杂的手柄，按住鼠标左键拖曳外框顶点可调节被 选定节点尺寸;

按住鼠标左键拖曳外围边框可单独改变被选中节点的宽度或者高度;

按 住鼠标左键拖曳中央蓝色圆环可改变被选中节点铀点的位置;

按住鼠标左键拖曳框内任 意其他位置可改变被选中节点的位置。



### 矩形变换工具

点击主窗口左上角工具栏第四个按钮，或在使用场景编辑器时按下 T 快捷键，即可激活 **矩形变换工具**。

![rect](https://gitee.com/nlpleaf/PicGo/raw/master/24b88f2f3984aff20f9c456d48b09034)

​	拖拽控制手柄的任一顶点，可以在保持对角顶点位置不变的情况下，同时修改节点尺寸中的 `width` 和 `height` 属性。

​	拖拽控制手柄的任一边，可以在保持对边位置不变的情况下，修改节点尺寸中的 `width` 或 `height` 属性。

​	按住鼠标左键拖曳中央蓝色圆环可改变被选中节点铀点的位置;

![rect](https://gitee.com/nlpleaf/PicGo/raw/master/d4f1381cb4af162d7c275b17a05c1313)

​	在UI元素的排版中，经常会需要使用 **矩形变换工具** 直接精确控制节点四条边的位置和长度。而对于必须保持原始图片宽高比的图像元素，通常不会使用矩形变换工具来调整尺寸。